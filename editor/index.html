<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown & YAML Editor</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/markdown/markdown.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/yaml/yaml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/5.1.1/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/theme/dracula.min.css">
    <link rel="stylesheet" href="style.css">
    <!-- Add GitHub OAuth client library -->
    <script src="https://unpkg.com/@octokit/oauth-app@4.2.0/dist/oauth-app.umd.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <h1>Vampire Markdown & YAML Editor</h1>
                <!-- Add GitHub login section -->
                <div class="github-auth">
                    <div id="logged-out" style="display: none;">
                        <button id="github-login" class="github-button">
                            <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub Logo" style="width: 20px; height: 20px;">
                            Sign in with GitHub
                        </button>
                    </div>
                    <div id="logged-in" style="display: none;">
                        <span id="user-info">
                            <img id="user-avatar" alt="User Avatar" style="width: 24px; height: 24px; border-radius: 50%;">
                            <span id="username"></span>
                        </span>
                        <button id="github-logout" class="github-button">Sign Out</button>
                    </div>
                </div>
            </div>
            <div>
                <select id="mode-selector">
                    <option value="markdown">Markdown</option>
                    <option value="yaml">YAML</option>
                </select>
                <div class="export-dropdown">
                    <button class="download-btn">Export / Download ▼</button>
                    <div class="export-dropdown-content">
                        <a id="export-md">Download as Markdown (.md)</a>
                        <a id="export-html">Download as HTML (.html)</a>
                        <a id="export-pdf">Download as PDF (.pdf)</a>
                        <a id="export-print">Print Document</a>
                        <a id="export-copy">Copy to Clipboard</a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="toolbar">
            <button id="bold">Bold</button>
            <button id="italic">Italic</button>
            <button id="heading">Heading</button>
            <button id="link">Link</button>
            <button id="image">Image</button>
            <button id="list">List</button>
            <button id="code">Code</button>
            <button id="quote">Quote</button>
            <button id="clear">Clear</button>
            <button id="fullscreen" class="fullscreen-btn">Fullscreen Mode</button>
        </div>
        
        <div class="editor-container">
            <div class="editor-section">
                <div class="section-header">
                    <span>Edit</span>
                    <button class="section-header-button toggle-fullscreen" title="Toggle Fullscreen">⛶</button>
                </div>
                <textarea id="editor"></textarea>
                <div class="status-bar">
                    <span id="word-count">0 words</span>
                    <span id="char-count">0 characters</span>
                </div>
            </div>
            <div class="preview-section">
                <div class="section-header">
                    <span>Preview</span>
                    <button class="section-header-button toggle-fullscreen" title="Toggle Fullscreen">⛶</button>
                </div>
                <div id="preview" class="preview-content"></div>
            </div>
        </div>
        
        <div id="print-content" class="hidden-print-only"></div>
    </div>

    <div class="fullscreen-indicator">
        Press ESC to exit fullscreen mode
    </div>

    <script src="script.js"></script>
</body>
</html>